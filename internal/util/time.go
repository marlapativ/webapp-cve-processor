package util

import (
	"time"
)

func ParseTime(value string) (time.Time, error) {

	if(len(value) == 0) {
		return time.Time{}, nil
	}

	var dateUpdated time.Time
	timeLayouts := []string{
		"2006-01-02T15:04:05",
		"2006-01-02T15:04:05Z",
		"2006-01-02T15:04:05.000Z",
	}

	var timeParseErr error
	for _, layout := range timeLayouts {
		dateUpdated, timeParseErr = time.Parse(layout, value)
		if timeParseErr == nil {
			break
		}
	}

	if timeParseErr != nil {
		return time.Time{}, timeParseErr
	}

	return dateUpdated.UTC(), nil
}
